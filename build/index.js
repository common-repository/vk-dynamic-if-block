!function(){"use strict";var e={};(function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);var l,i,a=window.wp.element,t=window.wp.i18n,n=window.wp.blocks,o=window.wp.blockEditor,c=window.wp.components,s=window.React;function r(){return r=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var i=arguments[l];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},r.apply(this,arguments)}const d=()=>!(void 0!==window.wpVersion&&null!==window.wpVersion&&(0,e.default)(window.wpVersion,"6.3")<0);var u={from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert(e){const l=e.map((e=>(0,n.createBlock)(e.name,e.attributes,e.innerBlocks)));return(0,n.createBlock)("vk-blocks/dynamic-if",{},l)}}],ungroup:d()?(e,l)=>l:void 0,to:d()?void 0:[{type:"block",blocks:["*"],transform:(e,l)=>l}]};(0,n.registerBlockType)("vk-blocks/dynamic-if",{apiVersion:2,title:(0,t.__)("Dynamic If","vk-dynamic-if-block"),icon:(0,a.createElement)((function(e){return s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 26",style:{enableBackground:"new 0 0 25 26"},xmlSpace:"preserve"},e),l||(l=s.createElement("path",{d:"M3.1 3.9V10H1.8V3.9h1.3zM3.3 2c0 .1 0 .2-.1.3 0 .1-.1.2-.2.3 0 .1-.1.2-.2.2s-.2.1-.3.1c-.1 0-.2 0-.3-.1-.2 0-.2-.1-.3-.2-.1 0-.2-.1-.2-.2s-.1-.2-.1-.3c0-.1 0-.2.1-.3 0-.1.1-.2.2-.3.1-.2.1-.2.2-.3.1 0 .2-.1.3-.1.1 0 .2 0 .3.1.1 0 .2.1.3.2.1.1.1.2.2.3.1.1.1.2.1.3zm1.9 8V4.9l-.6-.1c-.1 0-.2-.1-.2-.1-.1 0-.2-.1-.2-.2V4h.9v-.6c0-.3 0-.7.1-.9.2-.3.4-.5.6-.7.2-.2.4-.3.7-.4.2-.1.5-.2.9-.2h.4c.1 0 .3 0 .4.1v.6c0 .1-.1.2-.2.2h-.4c-.2 0-.3 0-.5.1-.1.1-.3.2-.4.3-.1.1-.2.2-.2.4-.1.1-.1.3-.1.6V4h1.7v.9H6.5V10H5.2zM13.8 17.8c.6.2 1.3.4 2.1.4v-1.3c-.5 0-.9-.1-1.2-.2-.3-.1-.5-.3-.7-.5l-1.1 1.1c.2.2.5.4.9.5zM12.5 2.1c-.3.5-.5 1-.5 1.7v3c0 .5-.1.8-.3 1.1s-.5.5-.8.6c-.4.1-.8.2-1.3.2V10c.5 0 1 .1 1.3.2.4.1.6.3.8.6.2.3.3.7.3 1.1v1.2h.9c.3 0 .5.1.7.2v-1.5c0-.7-.2-1.2-.5-1.6-.3-.4-.9-.7-1.6-.8.7-.1 1.2-.4 1.6-.8.3-.4.5-1 .5-1.6V4c0-.4.1-.8.3-1.1.2-.3.4-.5.8-.6.3-.1.8-.2 1.2-.2V.7c-.8 0-1.5.1-2 .3-.7.3-1.1.6-1.4 1.1zM23.1 8.6c-.4-.1-.6-.3-.8-.6-.2-.3-.3-.7-.3-1.2v-3c0-.7-.2-1.3-.5-1.7-.3-.5-.7-.8-1.3-1-.6-.2-1.3-.3-2.1-.4V2c.5 0 .9.1 1.2.2.3.1.6.3.8.6.2.3.3.6.3 1.1v3c0 .7.2 1.2.5 1.6.3.4.9.7 1.6.8v.1c-.7.1-1.2.4-1.6.8-.3.4-.5 1-.5 1.6v3c0 .4-.1.8-.3 1.1-.2.3-.4.5-.8.6-.3.1-.7.2-1.2.2V18c.8 0 1.5-.1 2-.4.6-.2 1-.6 1.4-1 .3-.5.5-1 .5-1.7v-3c0-.5.1-.8.3-1.1.2-.3.5-.5.8-.6.4-.1.8-.2 1.3-.2V8.8c-.5 0-.9-.1-1.3-.2z"})),s.createElement("path",{d:"m13.8 16 .1.1.1-.1c.8-.8.4-2.1-.5-2.6v1.5c.1.5.2.8.3 1.1z",style:{fill:"#fff"}}),i||(i=s.createElement("path",{d:"M12.9 14.8H9.6s-.1 0-.1.1l-.2.7c0 .1 0 .2.1.2h1.3c.1 0 .1.1.1.2l-2 2.2 1 3.4c0 .1 0 .1-.1.1h-1c-.1 0-.1 0-.1-.1L8 19.8c0-.1-.2-.1-.2 0L7.4 21v.1l.4 1.5.1.1h3.3c.1 0 .1-.1.1-.1L10 18.3v-.1l3-3.2c0-.1 0-.2-.1-.2z"})),s.createElement("path",{d:"M9 13H7s-.1 0-.1.1l-.3.7c0 .1 0 .2.1.2h.8c.1 0 .1.1.1.2l-2.4 6.7c0 .1-.2.1-.2 0L3.4 16c0-.1 0-.2.1-.2h.9s.1 0 .1.1l.6 1.7c0 .1.2.1.2 0l1-2.7c0-.1 0-.2-.1-.2H2.1c-.1.1-.1.2-.1.2l3.1 9c0 .1.2.1.2 0l3.8-10.8s0-.1-.1-.1z",style:{fill:"#d8141c"}}))}),null),transforms:u,category:"theme",attributes:{ifPageType:{type:"string",default:"none"},ifPostType:{type:"string",default:"none"},ifLanguage:{type:"string",default:"none"},userRole:{type:"array",default:[]},customFieldName:{type:"string",default:""},customFieldRule:{type:"string",default:""},customFieldValue:{type:"string",default:""},exclusion:{type:"boolian",default:!1},periodDisplaySetting:{type:"string",default:"none"},periodSpecificationMethod:{type:"string",default:"direct"},periodDisplayValue:{type:"string",default:""},periodReferCustomField:{type:"string",default:""},showOnlyLoginUser:{type:"boolean",default:!1}},supports:{html:!1,innerBlocks:!0},edit(e){let{attributes:l,setAttributes:i}=e;const{ifPageType:n,ifPostType:s,ifLanguage:r,userRole:d,customFieldName:u,customFieldRule:_,customFieldValue:m,exclusion:v,periodDisplaySetting:f,periodSpecificationMethod:y,periodDisplayValue:k,periodReferCustomField:b,showOnlyLoginUser:p}=l,h=[{value:"none",label:(0,t.__)("No restriction","vk-dynamic-if-block")},{value:"is_front_page",label:(0,t.__)("Front Page","vk-dynamic-if-block")+" ( is_front_page() )"},{value:"is_single",label:(0,t.__)("Single","vk-dynamic-if-block")+" ( is_single() )"},{value:"is_page",label:(0,t.__)("Page","vk-dynamic-if-block")+" ( is_page() )"},{value:"is_singular",label:(0,t.__)("Singular","vk-dynamic-if-block")+" ( is_singular() )"},{value:"is_home",label:(0,t.__)("Post Top","vk-dynamic-if-block")+" ( is_home() && ! is_front_page() )"},{value:"is_post_type_archive",label:(0,t.__)("Post Type Archive","vk-dynamic-if-block")+" ( is_post_type_archive() )"},{value:"is_category",label:(0,t.__)("Category Archive","vk-dynamic-if-block")+" ( is_category() )"},{value:"is_tag",label:(0,t.__)("Tag Archive","vk-dynamic-if-block")+" ( is_tag() )"},{value:"is_tax",label:(0,t.__)("Taxonomy Archive","vk-dynamic-if-block")+" ( is_tax() )"},{value:"is_year",label:(0,t.__)("Yearly Archive","vk-dynamic-if-block")+" ( is_year() )"},{value:"is_month",label:(0,t.__)("Monthly Archive","vk-dynamic-if-block")+" ( is_month() )"},{value:"is_date",label:(0,t.__)("Daily Archive","vk-dynamic-if-block")+" ( is_date() )"},{value:"is_author",label:(0,t.__)("Author Archive","vk-dynamic-if-block")+" ( is_author() )"},{value:"is_archive",label:(0,t.__)("Archive","vk-dynamic-if-block")+" ( is_archive() )"},{value:"is_search",label:(0,t.__)("Search Result","vk-dynamic-if-block")+" ( is_search() )"},{value:"is_404",label:(0,t.__)("404","vk-dynamic-if-block")+" ( is_404() )"}],g=`vk-dynamic-if-block ifPageType-${n} ifPostType-${s}`,C=vk_dynamic_if_block_localize_data.userRoles||{},E=Object.keys(C).map((e=>({value:e,label:(0,t.__)(C[e],"vk-dynamic-if-block")})));let w=[];"none"!==n&&w.push(n),"none"!==r&&w.push(r),"none"!==s&&w.push(s),d.length>0&&d.forEach((e=>{const l=E.find((l=>l.value===e));l&&w.push(l.label)})),u&&w.push(u),"none"!==f&&w.push(f),p&&w.push("showOnlyLoginUser");let S=w.join(" / ");return(0,a.createElement)("div",(0,o.useBlockProps)({className:g}),(0,a.createElement)(o.InspectorControls,null,(0,a.createElement)(c.PanelBody,{title:(0,t.__)("Display Conditions","vk-dynamic-if-block"),className:"vkdif"},(0,a.createElement)(c.SelectControl,{label:(0,t.__)("Page Type","vk-dynamic-if-block"),value:n,options:h,onChange:e=>i({ifPageType:e})}),(0,a.createElement)(c.SelectControl,{label:(0,t.__)("Post Type","vk-dynamic-if-block"),value:s,options:vk_dynamic_if_block_localize_data.postTypeSelectOptions,onChange:e=>i({ifPostType:e})}),(0,a.createElement)(c.SelectControl,{label:(0,t.__)("Languages","vk-dynamic-if-block"),value:r,options:vk_dynamic_if_block_localize_data.languageSelectOptions,onChange:e=>i({ifLanguage:e})}),(0,a.createElement)(c.BaseControl,{__nextHasNoMarginBottom:!0,className:"dynamic-if-user-role",label:(0,t.__)("User Role","vk-dynamic-if-block"),help:(0,t.__)("If unchecked, no restrictions are imposed by user role","vk-dynamic-if-block")},E.map(((e,l)=>(0,a.createElement)(c.CheckboxControl,{__nextHasNoMarginBottom:!0,key:l,label:e.label,checked:d.includes(e.value),onChange:l=>{i(l?{userRole:[...d,e.value]}:{userRole:d.filter((l=>l!==e.value))})}})))),(0,a.createElement)(c.ToggleControl,{label:(0,t.__)("Displayed only for logged-in users.","vk-dynamic-if-block"),checked:p,onChange:e=>i({showOnlyLoginUser:e})}),(0,a.createElement)(c.TextControl,{label:(0,t.__)("Custom Field Name","vk-dynamic-if-block"),value:u,onChange:e=>i({customFieldName:e})}),u&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.SelectControl,{label:(0,t.__)("Custom Field Rule","vk-dynamic-if-block"),value:_,options:[{value:"valueExists",label:(0,t.__)("Value Exist ( !empty() )","vk-dynamic-if-block")},{value:"valueEquals",label:(0,t.__)("Value Equals ( === )","vk-dynamic-if-block")}],onChange:e=>i({customFieldRule:e})}),"valueEquals"===_&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.TextControl,{label:(0,t.__)("Custom Field Value","vk-dynamic-if-block"),value:m,onChange:e=>i({customFieldValue:e})}))),(0,a.createElement)(c.BaseControl,{title:(0,t.__)("Display Period","vk-dynamic-if-block")},(0,a.createElement)(c.SelectControl,{label:(0,t.__)("Display Period Setting","vk-dynamic-if-block"),value:f,options:[{value:"none",label:(0,t.__)("No restriction","vk-dynamic-if-block")},{value:"deadline",label:(0,t.__)("Set to display deadline","vk-dynamic-if-block")},{value:"startline",label:(0,t.__)("Set to display startline","vk-dynamic-if-block")},{value:"daysSincePublic",label:(0,t.__)("Number of days from the date of publication","vk-dynamic-if-block")}],onChange:e=>i({periodDisplaySetting:e}),help:"deadline"===f?(0,t.__)("After the specified date, it is hidden.","vk-dynamic-if-block"):"startline"===f?(0,t.__)("After the specified date, it is display.","vk-dynamic-if-block"):"daysSincePublic"===f?(0,t.__)("After the specified number of days, it is hidden.","vk-dynamic-if-block"):(0,t.__)("You can set the deadline or startline to be displayed, as well as the time period.","vk-dynamic-if-block")}),"none"!==f&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.SelectControl,{label:(0,t.__)("Period specification method","vk-dynamic-if-block"),value:y,options:[{value:"direct",label:(0,t.__)("Direct input in this block","vk-dynamic-if-block")},{value:"referCustomField",label:(0,t.__)("Refer to value of custom field","vk-dynamic-if-block")}],onChange:e=>i({periodSpecificationMethod:e})}),"direct"===y&&(0,a.createElement)(c.__experimentalNumberControl,{label:(0,t.__)("Value for the specified period","vk-dynamic-if-block"),type:"daysSincePublic"===f?"number":"datetime-local",step:"daysSincePublic"===f?1:60,value:k,onChange:e=>i({periodDisplayValue:e})}),"referCustomField"===y&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.TextControl,{label:(0,t.__)("Referenced custom field name","vk-dynamic-if-block"),value:b,onChange:e=>i({periodReferCustomField:e}),help:"daysSincePublic"===f?(0,t.__)("Save the value of the custom field as an integer.","vk-dynamic-if-block"):(0,t.__)("Save the custom field values as Y-m-d H:i:s.","vk-dynamic-if-block"),className:"vkdif__refer-cf-name"}),!b&&(0,a.createElement)("div",{className:"vkdif__alert vkdif__alert-warning"},(0,t.__)("Enter the name of the custom field you wish to reference.","vk-dynamic-if-block"))))),(0,a.createElement)(c.ToggleControl,{label:(0,t.__)("Exclusion designation","vk-dynamic-if-block"),checked:v,onChange:e=>i({exclusion:e})}))),(0,a.createElement)("div",{className:"vk-dynamic-if-block__label"},S),(0,a.createElement)(o.InnerBlocks,{template:[["core/paragraph",{}]]}))},save(){return(0,a.createElement)(o.InnerBlocks.Content,null)}})}();